(function(e){function n(n){for(var o,r,s=n[0],c=n[1],u=n[2],l=0,f=[];l<s.length;l++)r=s[l],i[r]&&f.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);h&&h(n);while(f.length)f.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,r=1;r<t.length;r++){var c=t[r];0!==i[c]&&(o=!1)}o&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var o={},i={app:0},a=[];function r(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5d688836"}[e]+".js"}function s(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t=i[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise(function(n,o){t=i[e]=[n,o]});n.push(t[2]=o);var a,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=r(e),a=function(n){u.onerror=u.onload=null,clearTimeout(l);var t=i[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src,r=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,t[1](r)}i[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,c.appendChild(u)}return Promise.all(n)},s.m=e,s.c=o,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)s.d(t,o,function(n){return e[n]}.bind(null,o));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/vue-babylon-ts-demo/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var h=u;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},"0d2c":function(e,n,t){"use strict";var o=t("0f6b"),i=t.n(o);i.a},"0f6b":function(e,n,t){},2856:function(e,n,t){},"5c0b":function(e,n,t){"use strict";var o=t("2856"),i=t.n(o);i.a},"95c2":function(e,n,t){},af3a:function(e,n,t){"use strict";var o=t("95c2"),i=t.n(o);i.a},cd49:function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("097d");var o=t("2b0e"),i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],r=(t("5c0b"),t("2877")),s={},c=Object(r["a"])(s,i,a,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,l=t("8c4f"),h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"},[t("MainGame",{attrs:{msg:"Welcome to 3d geme"}})],1)},f=[],d=t("c665"),p=t("dc0a"),m=t("d328"),v=t("11d9"),g=t("9ab4"),y=t("60a3"),b=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"main-game"},[t("canvas",{attrs:{id:"renderCanvas"}}),t("div",{attrs:{id:"author"}},[e._v("indeex")]),t("div",{attrs:{id:"fpsLabel"}})])}],w=(t("4917"),t("7f7f"),t("ac6a"),t("aa9a")),O=t("633b"),E=(t("b234"),t("5118")),T=function(e){function n(){var e;return Object(d["a"])(this,n),e=Object(m["a"])(this,Object(v["a"])(n).apply(this,arguments)),e.alpha=1,e.speed=.5,e.inertia=.5,e.angularInertia=0,e.angularSensibility=1e3,e.cameraY=0,e.isJump=!1,e.startX=0,e.startY=0,e.endX=0,e.endY=0,e.moveTime=0,e.cw=0,e.ch=0,e.r=50,e}return Object(w["a"])(n,[{key:"mounted",value:function(){this.init(),this.initEvent(),this.initConfig()}},{key:"init",value:function(){var e=this,n=document.getElementById("renderCanvas");this.canvas=n;var t=new O["Engine"](this.canvas);t.enableOfflineSupport=!1,this.engine=t;var o=new O["Scene"](this.engine);o.clearColor=new O["Color3"](0,0,0),o.collisionsEnabled=!0;var i,a=new O["Vector3"](0,-9.81,0),r=new O["CannonJSPlugin"];o.enablePhysics(a,r),o.enableGravity=a,o.fogEnable=!0,o.fogMode=O["Scene"].FOGMODE_LINEAR,o.fogDensity=.02,o.fogStart=0,this.isMobile()?o.fogEnd=80:o.fogEnd=50,o.fogColor=new O["Color4"](.6,.6,.6,.3),this.scene=o,i=new O["FreeCamera"]("fc",new O["Vector3"](0,1,-15),this.scene),i.attachControl(this.canvas,!0),i.ellipsoid=new O["Vector3"](1,1,1),i.keysUp=[87,38],i.keysDown=[83,40],i.keysLeft=[65,39],i.keysRight=[68,37],i.speed=this.speed,i.inertia=this.inertia,i.angularInertia=this.angularInertia,i.angularSensibility=this.angularSensibility,i.layerMask=2,i.applyGravity=!0,i._needMoveForGravity=!0,this.camera=i,this.cameraY=this.camera.position.y;var s=Object(E["setTimeout"])(function(){e.camera.position.y=e.cameraY,Object(E["clearTimeout"])(s)},2e3),c=new O["HemisphericLight"]("hl",new O["Vector3"](0,20,0),this.scene);new O["PointLight"]("pl1",new O["Vector3"](0,50,-50),this.scene);c.intensity=1,this.light=c;var u=O["Mesh"].CreateBox("skyBox",5e3,this.scene),l=new O["StandardMaterial"]("skyBox",this.scene);l.backFaceCulling=!1,l.reflectionTexture=new O["CubeTexture"]("scenes/skybox1/TropicalSunnyDay",this.scene,["Left.jpg","Up.jpg","Front.jpg","Right.jpg","Down.jpg","Back.jpg"]),l.reflectionTexture.coordinatesMode=O["Texture"].SKYBOX_MODE,l.diffuseColor=new O["Color3"](0,0,0),l.specularColor=new O["Color3"](0,0,0),l.disableLighting=!0,u.material=l,u.infiniteDistance=!0;O["SceneLoader"].ImportMesh("","scenes/streetenvironment/","demo1.babylon",this.scene,function(n){n.forEach(function(n,t){e.scene.stopAnimation(n),n.checkCollisions=!0,"Line002"!=n.name&&"Object010"!=n.name||(n.position.y=n.position.y-.15,n.checkCollisions=!1),"Plane001"==n.name&&(n.position.y=n.position.y-.15)})},function(e){console.log(e.loaded,e.total)},function(e){console.log("load error: ",e)}),O["SceneLoader"].ImportMesh("","scenes/cat/","cat.babylon",this.scene,function(e){e.forEach(function(e,n){e.position.x=e.position.x-2,e.position.z=e.position.z+2,e.position.y=e.position.y+.1,e.rotation.y=e.rotation.y-Math.PI/180*180,e.scaling=new O["Vector3"](.5,.5,.5)})},function(e){console.log(e.loaded,e.total)},function(e){console.log("load error: ",e)}),O["SceneLoader"].ImportMesh("","scenes/dog1/","dog.babylon",this.scene,function(n){n.forEach(function(n,t){n.scaling=new O["Vector3"](.01,.01,.01),n.position.y=n.position.y+.1,n.position.z=n.position.z+2,n.material.diffuseTexture=new O["Texture"]("scenes/dog/Tex_0552_7.tga",e.scene),1==t&&e.createAnamition(n)})},function(e){console.log(e.loaded,e.total)},function(e){console.log("load error: ",e)}),O["SceneLoader"].ImportMesh("","scenes/girl1/","girl1.babylon",this.scene,function(e){e.forEach(function(e,n){e.scaling=new O["Vector3"](.05,.05,.05),e.position.x=e.position.x-.5,e.position.y=e.position.y+.1,e.position.z=e.position.z+2})},function(e){console.log(e.loaded,e.total)},function(e){console.log("load error: ",e)});this.scene.registerBeforeRender(function(){}),this.engine.runRenderLoop(function(){e.scene.render();var n=document.getElementById("fpsLabel"),t=e.engine.getFps().toFixed();n.innerHTML=(t==1/0?"0":t)+" fps",n.style.color=t<60?"red":"rgb(109, 121, 230)"})}},{key:"initEvent",value:function(){document.addEventListener("pointerlockchange",this.pointerlockchange,!1),this.canvas.addEventListener("click",this.locked,!1),O["Tools"].RegisterTopRootEvents([{name:"keydown",handler:this.keydownHandler},{name:"touchstart",handler:this.keydownHandler},{name:"touchmove",handler:this.keymoveHandler},{name:"keyup",handler:this.keyupHandler},{name:"touchend",handler:this.keyupHandler}])}},{key:"keydownHandler",value:function(e){var n=this;if(e.changedTouches)return this.moveTime=(new Date).getTime(),this.startX=e.changedTouches[0].screenX,void(this.startY=e.changedTouches[0].screenY);var t=e.keyCode;switch(console.log(e),t){case 32:if(this.isJump)break;this.isJump=!0,this.camera.animations=[];var o=new O["Animation"]("a","position.y",10,O["Animation"].ANIMATIONTYPE_FLOAT,O["Animation"].ANIMATIONLOOPMODE_CYCLE),i=[];i.push({frame:0,value:this.cameraY}),i.push({frame:5,value:this.cameraY+3}),i.push({frame:10,value:this.cameraY}),o.setKeys(i);var a=new O["CircleEase"];a.setEasingMode(O["EasingFunction"].EASINGMODE_EASEINOUT),o.setEasingFunction(a),this.camera.animations.push(o),this.scene.beginAnimation(this.camera,0,10,!1,2,function(){n.camera.position.y=n.cameraY,n.isJump=!1});break;default:console.log(t);break}}},{key:"keymoveHandler",value:function(e){if(console.log(e),e.changedTouches){var n=e.changedTouches[0].clientX,t=e.changedTouches[0].clientY,o=this.r,i=this.ch-this.r,a={x:n,y:t},r={x:o,y:i};console.log(this.pointInsideCircle(a,r,this.r))}}},{key:"keyupHandler",value:function(e){var n=this;console.log(e);var t=new Date;if(e.changedTouches&&t.getTime()-this.moveTime<=150){e.changedTouches[0].screenX;var o=e.changedTouches[0].screenY;if(this.startY-o>1){if(this.isJump)return;this.isJump=!0,this.camera.animations=[];var i=new O["Animation"]("a","position.y",10,O["Animation"].ANIMATIONTYPE_FLOAT,O["Animation"].ANIMATIONLOOPMODE_CYCLE),a=[];a.push({frame:0,value:this.cameraY}),a.push({frame:5,value:this.cameraY+3}),a.push({frame:10,value:this.cameraY}),i.setKeys(a);var r=new O["CircleEase"];r.setEasingMode(O["EasingFunction"].EASINGMODE_EASEINOUT),i.setEasingFunction(r),this.camera.animations.push(i),this.scene.beginAnimation(this.camera,0,10,!1,2,function(){n.camera.position.y=n.cameraY,n.isJump=!1})}}else;}},{key:"pointerlockchange",value:function(e){this.camera.attachControl(this.canvas)}},{key:"locked",value:function(){this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}},{key:"createAnamition",value:function(e){var n=0,t=.01;this.scene.registerBeforeRender(function(){n+=.08,e.rotation.y+=t*Math.cos(n)})}},{key:"isMobile",value:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},{key:"Android",value:function(){return navigator.userAgent.match(/Android/i)}},{key:"BlackBerry",value:function(){return navigator.userAgent.match(/BlackBerry/i)}},{key:"iOS",value:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}},{key:"Opera",value:function(){return navigator.userAgent.match(/Opera Mini/i)}},{key:"Windows",value:function(){return navigator.userAgent.match(/IEMobile/i)}},{key:"pointInsideCircle",value:function(e,n,t){if(0===t)return!1;var o=n.x-e.x,i=n.y-e.y;return o*o+i*i<=t*t}},{key:"initConfig",value:function(){this.cw=document.body.clientWidth,this.ch=document.body.clientHeight}}]),Object(p["a"])(n,e),n}(y["c"]);g["a"]([Object(y["b"])()],T.prototype,"msg",void 0),T=g["a"]([y["a"]],T);var A=T,M=A,j=(t("0d2c"),Object(r["a"])(M,b,k,!1,null,"134ca39a",null));j.options.__file="MainGame.vue";var C=j.exports,_=function(e){function n(){return Object(d["a"])(this,n),Object(m["a"])(this,Object(v["a"])(n).apply(this,arguments))}return Object(p["a"])(n,e),n}(y["c"]);_=g["a"]([Object(y["a"])({components:{MainGame:C}})],_);var x=_,S=x,I=(t("af3a"),Object(r["a"])(S,h,f,!1,null,"199131be",null));I.options.__file="Home.vue";var L=I.exports;o["default"].use(l["a"]);var Y=new l["a"]({mode:"history",base:"/vue-babylon-ts-demo/",routes:[{path:"/",name:"home",component:L},{path:"/about",name:"about",component:function(){return t.e("about").then(t.bind(null,"f820"))}}]}),P=t("2f62");o["default"].use(P["a"]);var B=new P["a"].Store({state:{},mutations:{},actions:{}}),N=t("9483");Object(N["a"])("".concat("/vue-babylon-ts-demo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),o["default"].config.productionTip=!1,new o["default"]({router:Y,store:B,render:function(e){return e(u)}}).$mount("#app")}});